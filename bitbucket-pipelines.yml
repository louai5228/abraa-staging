# This is an example Starter pipeline configuration
# Use a skeleton to build, test and deploy using manual and parallel steps
# -----
# You can specify a custom docker image from Docker Hub as your build environment.

image: alpine/git:1.0.26

definitions:
  services:
    docker:
      memory: 1024

  steps:
    - step: &Push-to-GitHub
        name: Push code changes to GitHub
        services:
          - docker
        caches:
          - docker
        script:
          - git remote add github "https://github.com/louai5228/abraa-staging.git"
          - git checkout release
          - git pull
          - git push github release

pipelines:
  branches:
    master:
      - step: *Push-to-GitHub
    sandbox:
      - step: *Push-to-GitHub
    staging:
      - step: *Push-to-GitHub
    production:
      - step: *Push-to-GitHub
